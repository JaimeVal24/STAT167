---
title: 'Question 3: Analysis on Carrier Delays'
author: "Jamie Calencia Lopez, Jonathan Wu, Faith Ang, Melody Lu"
date: "2026-02-21"
output: html_document
---



* **3. Which airlines have the most delays?**
    * **Plan:** Compare the typical delay experience across different carriers.
    * **Methods:** Create boxplots of `dep_delay` by `carrier`. We can sort the boxplots by median in order to produce a ranking of airlines by their median delay. 
    * **Objective:** To identify which airlines are consistently late regardless of other factors.


```{r}
#new column status
hour_plot_data <- flights %>%
     mutate(status = if_else(dep_delay <= 0, "On-time", "Delayed")) %>%
     filter(!is.na(status))

flights_delayed <- filter(hour_plot_data, status == "Delayed")

#geom boxplot with departure delay between airplane carriers
ggplot(data = flights_delayed, mapping = aes(x = dep_delay, fill = carrier)) +
  geom_boxplot() 
```

```{r, fig.height= 7}
#using hour_plot_data to see how many plane trips belonged to each carrier
ggplot(data = hour_plot_data) +
  geom_bar(mapping = aes(x = carrier, fill = carrier)) +
  geom_text(stat = "count", aes(x = carrier, label = after_stat(count)), vjust = -1)
```


```{r, fig.height= 7}
#using hour_plot_data to see bargraph of planes that were on time or delayed
ggplot(data = hour_plot_data) +
  geom_bar(mapping = aes(x = status, fill = carrier)) +
  geom_text(stat = "count", aes(x = status, label = after_stat(count)), vjust = 0) +
  facet_wrap(~ carrier, nrow = 2)
```

```{r, fig.height= 7}
#using hour_plot_data to see bargraph of carriers that were most delayed
ggplot(data = flights_delayed) +
  geom_bar(mapping = aes(x = carrier, color = carrier, fill = carrier)) +
  geom_text(stat = "count", aes(x = carrier, label = after_stat(count)), vjust = 0) 
  
```


